cmake_minimum_required(VERSION 2.6)

include_directories("MrT/Modules")
include_directories("src")
include_directories("src/lib")

add_definitions(
    -g
    -DPOLY_PACKET_DEBUG_LVL=1
    -DCMAKE_BUILD_TYPE=Debug
    -DMRT_PLATFORM_NONE
    )

#SET(CMAKE_C_FLAGS "-fsanitize=address -fsanitize=undefined")

SET(CMAKE_C_FLAGS "-Wformat=0")

add_subdirectory(MrT/Modules/Utilities/PolyPacket)
add_subdirectory(MrT/Modules/Utilities/JSON)
add_subdirectory(src/lib)


add_executable(
  ${proto.name}_util
  src/main.c
  src/app_${proto.name.lower()}.c
  )

target_link_libraries(${proto.name}_util lib${proto.fileName} )
