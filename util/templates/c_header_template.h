/**
  *@file ${proto.fileName}.h
  *@brief generated protocol source code
  *@author make_protocol.py
  *@date 03/18/19
  */

/***********************************************************
        THIS FILE IS AUTOGENERATED. DO NOT MODIFY
***********************************************************/
#include "Utilities/PolyPacket/poly_field.h"
#include "Utilities/PolyPacket/poly_packet.h"


//Declare extern packet descriptors
% for packet in proto.packets:
extern poly_packet_desc_t* ${packet.globalName};
% endfor


//Declare extern field descriptors
% for field in proto.fields:
extern poly_field_desc_t* ${field.globalName};
% endfor

% for packet in proto.packets:
/*
 *@brief ${packet.desc}
 */
typedef struct{
  % for field in packet.fields:
  ${field.getFieldDeclaration()}
  % endfor
} ${packet.structName};

% endfor

//Packet binders
% for packet in proto.packets:
void ${packet.name.lower()}_bind(${packet.structName}* ${packet.name.lower()}, poly_packet_t* packet);
% endfor

/**
*@brief initializes protocol service
*@param ifaces number of interfaces to use
*/
void ${proto.prefix}_protocol_init(int interfaceCount);

/**
  *@brief processes data in buffers
  */
void ${proto.prefix}_protocol_process();



% for packet in proto.packets:
/*@brief Handler for ${packet.name} packets */
uint8_t ${proto.prefix}_${packet.name.lower()}_handler(${packet.structName} * packet);
% endfor
